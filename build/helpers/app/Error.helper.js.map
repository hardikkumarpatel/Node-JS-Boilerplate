{"version":3,"file":"Error.helper.js","names":["_multer","require","_httpStatusCodes","_","_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","ErrorHelper","capture","errors","res","MulterError","console","log","code","status","StatusCodes","REQUEST_TOO_LONG","send","json","BAD_REQUEST","concat","field","INTERNAL_SERVER_ERROR","message","error","stack","arguments","length","undefined","ApiErrorResponseHelper","_default","exports","default"],"sources":["../../../src/helpers/app/Error.helper.js"],"sourcesContent":["import { MulterError } from \"multer\";\nimport { StatusCodes } from \"http-status-codes\";\nimport { ApiErrorResponseHelper } from \"@/helpers\";\n\nclass ErrorHelper {\n  static json = (code, message, error, stack = null) => {\n    return new ApiErrorResponseHelper(code, message, error, stack);\n  };\n\n  static capture(errors, res) {\n    if (errors instanceof MulterError) {\n      console.log(\"errors\", errors);\n      if (errors.code === \"LIMIT_FILE_SIZE\") {\n        return res\n          .status(StatusCodes.REQUEST_TOO_LONG)\n          .send(\n            ErrorHelper.json(\n              StatusCodes.REQUEST_TOO_LONG,\n              errors.code,\n              \"File size is too large. Max size is 1MB\"\n            )\n          );\n      } else if (errors.code === \"LIMIT_UNEXPECTED_FILE\") {\n        return res\n          .status(StatusCodes.BAD_REQUEST)\n          .send(\n            ErrorHelper.json(\n              StatusCodes.BAD_REQUEST,\n              errors.code,\n              `Unexpected field. ${errors.field}`\n            )\n          );\n      } else if (errors.code === \"INVALID_FILE_TYPE\") {\n        return res\n          .status(StatusCodes.BAD_REQUEST)\n          .send(ErrorHelper.json(StatusCodes.BAD_REQUEST, errors.code, errors.field));\n      } else {\n        return res\n          .status(StatusCodes.INTERNAL_SERVER_ERROR)\n          .send(\n            ErrorHelper.json(\n              StatusCodes.INTERNAL_SERVER_ERROR,\n              errors.code,\n              \"An unknown error occurred during the file upload\"\n            )\n          );\n      }\n    }\n  }\n}\n\nexport default ErrorHelper;\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAD,OAAA;AACA,IAAAE,CAAA,GAAAF,OAAA;AAAmD,SAAAG,gBAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAD,CAAA,GAAAI,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAC,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAT,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAG,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAb,CAAA,QAAAU,CAAA,GAAAV,CAAA,CAAAc,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAEnD,MAAMgB,WAAW,CAAC;EAKhB,OAAOC,OAAOA,CAACC,MAAM,EAAEC,GAAG,EAAE;IAC1B,IAAID,MAAM,YAAYE,mBAAW,EAAE;MACjCC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEJ,MAAM,CAAC;MAC7B,IAAIA,MAAM,CAACK,IAAI,KAAK,iBAAiB,EAAE;QACrC,OAAOJ,GAAG,CACPK,MAAM,CAACC,4BAAW,CAACC,gBAAgB,CAAC,CACpCC,IAAI,CACHX,WAAW,CAACY,IAAI,CACdH,4BAAW,CAACC,gBAAgB,EAC5BR,MAAM,CAACK,IAAI,EACX,yCACF,CACF,CAAC;MACL,CAAC,MAAM,IAAIL,MAAM,CAACK,IAAI,KAAK,uBAAuB,EAAE;QAClD,OAAOJ,GAAG,CACPK,MAAM,CAACC,4BAAW,CAACI,WAAW,CAAC,CAC/BF,IAAI,CACHX,WAAW,CAACY,IAAI,CACdH,4BAAW,CAACI,WAAW,EACvBX,MAAM,CAACK,IAAI,uBAAAO,MAAA,CACUZ,MAAM,CAACa,KAAK,CACnC,CACF,CAAC;MACL,CAAC,MAAM,IAAIb,MAAM,CAACK,IAAI,KAAK,mBAAmB,EAAE;QAC9C,OAAOJ,GAAG,CACPK,MAAM,CAACC,4BAAW,CAACI,WAAW,CAAC,CAC/BF,IAAI,CAACX,WAAW,CAACY,IAAI,CAACH,4BAAW,CAACI,WAAW,EAAEX,MAAM,CAACK,IAAI,EAAEL,MAAM,CAACa,KAAK,CAAC,CAAC;MAC/E,CAAC,MAAM;QACL,OAAOZ,GAAG,CACPK,MAAM,CAACC,4BAAW,CAACO,qBAAqB,CAAC,CACzCL,IAAI,CACHX,WAAW,CAACY,IAAI,CACdH,4BAAW,CAACO,qBAAqB,EACjCd,MAAM,CAACK,IAAI,EACX,kDACF,CACF,CAAC;MACL;IACF;EACF;AACF;AAAC1B,eAAA,CA7CKmB,WAAW,UACD,UAACO,IAAI,EAAEU,OAAO,EAAEC,KAAK,EAAmB;EAAA,IAAjBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAC/C,OAAO,IAAIG,wBAAsB,CAAChB,IAAI,EAAEU,OAAO,EAAEC,KAAK,EAAEC,KAAK,CAAC;AAChE,CAAC;AAAA,IAAAK,QAAA,GAAAC,OAAA,CAAAC,OAAA,GA4CY1B,WAAW","ignoreList":[]}