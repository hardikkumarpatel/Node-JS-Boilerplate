{"version":3,"file":"Ratelimiter.middleware.js","names":["_expressRateLimit","_interopRequireDefault","require","_httpStatusCodes","_helpers","e","__esModule","default","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","RateLimiterMiddleware","constructor","rateLimit","windowMs","max","message","standardHeaders","legacyHeaders","handler","_","res","__","options","status","statusCode","send","ApiErrorResponseHelper","getReasonPhrase","_default","exports"],"sources":["../../../src/middleware/common/Ratelimiter.middleware.js"],"sourcesContent":["import rateLimit from \"express-rate-limit\";\nimport { getReasonPhrase } from \"http-status-codes\";\nimport { ApiErrorResponseHelper } from \"@/helpers\";\n\nclass RateLimiterMiddleware {\n  limiter = rateLimit({\n    windowMs: 5 * 1000 /** in milliseconds */,\n    max: 2, // Limit each IP to 2 requests per `window` (here, per 5 seconds)\n    message: \"You have exceeded the request! please try after some time\",\n    standardHeaders: true,\n    legacyHeaders: false,\n    handler: (_, res, __, options) => {\n      return res\n        .status(options.statusCode)\n        .send(\n          new ApiErrorResponseHelper(\n            options.statusCode,\n            options.message,\n            getReasonPhrase(options.statusCode)\n          )\n        );\n    }\n  });\n}\n\nexport default RateLimiterMiddleware;\n"],"mappings":";;;;;;AAAA,IAAAA,iBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAAmD,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,gBAAAH,CAAA,EAAAI,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAJ,CAAA,GAAAO,MAAA,CAAAC,cAAA,CAAAR,CAAA,EAAAI,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAZ,CAAA,CAAAI,CAAA,IAAAC,CAAA,EAAAL,CAAA;AAAA,SAAAM,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAL,CAAA,GAAAK,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAhB,CAAA,QAAAa,CAAA,GAAAb,CAAA,CAAAiB,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAEnD,MAAMgB,qBAAqB,CAAC;EAAAC,YAAA;IAAAnB,eAAA,kBAChB,IAAAoB,yBAAS,EAAC;MAClBC,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC;MACnBC,GAAG,EAAE,CAAC;MAAE;MACRC,OAAO,EAAE,2DAA2D;MACpEC,eAAe,EAAE,IAAI;MACrBC,aAAa,EAAE,KAAK;MACpBC,OAAO,EAAEA,CAACC,CAAC,EAAEC,GAAG,EAAEC,EAAE,EAAEC,OAAO,KAAK;QAChC,OAAOF,GAAG,CACPG,MAAM,CAACD,OAAO,CAACE,UAAU,CAAC,CAC1BC,IAAI,CACH,IAAIC,+BAAsB,CACxBJ,OAAO,CAACE,UAAU,EAClBF,OAAO,CAACP,OAAO,EACf,IAAAY,gCAAe,EAACL,OAAO,CAACE,UAAU,CACpC,CACF,CAAC;MACL;IACF,CAAC,CAAC;EAAA;AACJ;AAAC,IAAAI,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GAEcmB,qBAAqB","ignoreList":[]}